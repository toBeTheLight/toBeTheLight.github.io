---
layout: post
title:  "《代码整洁之道》摘录"
categories: 阅读笔记 编程习惯
tags:  编程习惯
author: toBeTheLight
---

* content
{:toc}
本书的主要内容是成为更好的程序员。如何在意代码。




# 第一章 整洁代码

* 勒布朗法则：稍后等于永不
* 程序员遵从不了解混乱风险的经理的意愿，也是不专业的做法

整洁代码的一些定义：

* 优雅和高效，逻辑直接了当。减少依赖关系，便于维护。一句某种分层战略完善错误处理代码。性能调至最优，不引诱别人做没规矩的优化导致更多的混乱。整洁的代码只做好一件事。---- 每个函数、每个类和每个模块都全神贯注于一件事，完全不受四周细节的干扰和污染。
* 简单直接，如同优美的散文，从不隐藏设计者的意图，充满了干净利落的抽象和直接了当的控制语句。---- 应当讲述事实，只该包含必需之物。
* 应当有**单元测试和验收测试**，使用有意义的命名，只提供一种而非多种做一件事的途径。只有**尽量少**的依赖关系，而且要明确的定义和提供清晰、**尽量少**的API。代码应通过其**字面表达**含义。---- 测试驱动开发。推崇小块代码。用人类可读的方式来写代码。
* 整洁的代码总是看起来像是某位特别在意它的人写的。---- 如何在意代码，整洁代码就是作者着力照料的代码。
* 能通过所有测试；没有重读代码；体现系统中的全部设计理念；包括尽量少的实体，比如类、方法、函数。---- 减少重复代码，提高表达力，提早构建简单抽象。
* 如果每个例程（类似于函数）都让你感到深合己意，那就是整洁代码，如果例程让编程语言看起来像是专门为解决那个问题而存在，就可以称之为漂亮的代码。---- 如何让编程语言像是专为解决那个问题而存在是程序员的责任。

# 第二章 有意义的命名

以下建议是有交叉的。

1. 名副其实：避免模糊度，命名应应与上下文关联，即体现它在这段代码中的作用和身份（date => cacheStepDate）。
2. 避免误导：避免误导，避免特定名称，避免命名中包含错误的类型，避免拼写相近的命名。
3. 做有意义的区分：不同的命名应能看出用法区别，避免以下几种命名
    * a1、a2、a3
    * getUser、getUserInfo，并不能看出有什么区别
4. 使用读的出来的名字：避免自造（包括不恰当的简写）词，要让大家都认的出来。
5. 使用可搜索的名称：应可检索，如常量应命名为某个变量进行使用。名称长短（或者复杂度）应与其作用域大小对应，如仅用于某个非业务函数内的变量可使用 o、p 等或尽量简短（没有检索需求），而此函数的命名则应表明其作用。
6. 避免使用编码：避免将类型或作用域编进名称中。
7. 避免思维映射：不应当让读者在脑中将你的名称翻译成他们熟知的名称。例如不合适的单字母命名，如不合适的简写。
8. 类名：应为名词。
9. 方法名：应为动词或动词短语。
10. 别扮可爱：使用俗语或者你自己能理解的别称是不合适的。
11. 每个概念对应一个词：即对某个概念的单词选用要统一。如请求都使用 fetch 而非有的地方用 fetch 有的地方用 get。
12. 别用双关语：同样，在表示不同概念的时候不要用同样的词，如向数组中添加子项，根据添加方式的不同应选用不同的单词，而非都使用 add。
13. 使用解决方案领域名词：使用计算机科学领域的名词命名而非程序针对的业务领域。
14. 使用源自所涉及问题领域的名称：在第 13 条无法完全适用时遵循此条。
15. 添加有意义的语境：在无法使用类、函数、或者命名空间来归纳一系列名称时，要考虑使用统一的命名前缀表明这些量的上下文（归属）。
16. 不要添加没用的语境：避免命名冗余，如给程序里的每个名称都添加了同样的前缀，或者给某个方法的命名添加了不相关的语境前缀。