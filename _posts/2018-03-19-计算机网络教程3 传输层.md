---
layout: post
title:  "阅读：计算机网络教程（3）传输层"
categories: 阅读笔记 计算机网络
tags:  计算机网络 端口
author: toBeTheLight
---

* content
{:toc}

此章切换英文版  

* 基本介绍
    * TCP/IP协议簇中的传输层位于应用层和网络层中间，接受网络层的服务，并向应用层提供服务。
    * 是TCP/IP协议簇中的核心。
    * 是因特网上从一个点到另一个点传输数据的端到端的逻辑传输媒介。




# 3.1 介绍和传输层服务

传输层协议提供运行在两个主机应用进程间的**逻辑连接**。

发送方传输层将从应用进程接收到的接收到的消息转换为段（segment），会在每个段中加入传输层header。然后会将段发送至网络层，在这里会被装进网络层数据报。网络路由器仅对数据报的网络层字段起作用。接收方，网络层从数据报中提取段，然后传给传输层，传输层处理接收到的段，使段中数据可用于接收端应用。

## 3.1.1 传输层和网络层的关系

* 传输层提供运行在不同主机的进程的逻辑连接，网络层协议提供主机间的逻辑连接。

* 传输层提供的服务经常受到底层限制，比如，如果网络层协议不能保证主机间发送的传输层数据段的延迟和带宽，那么传输层协议就不能保证进程间传输的应用消息的延迟和带宽。

* 在底层网络层协议不能提供对应服务时，传输也能提供某些服务。如网络层协议不可靠时，传输层也能向应用提供可靠的数据传输服务；网络层不保证传输层数据段的机密性时，传输层也能通过使用加密使实习无法被入侵者读取。

## 传输层服务

位于网络层和应用层直接，负责向应用层提供服务，接收来自网络层的服务。

### 进程到进程通信

传输层首要任务是提供**进程到进程通信**（process-to-process comminication）。进程是使用传输层服务的应用层实体（运行着的程序）。
* 网络层负责计算机层次的通信，网络层协议只是把报文传递到目的计算机。
* 报文仍然需要递交给正确的进程，传输层协议负责将报文传输到正确的进程。

### 寻址：端口号

实现进程到进程通信，最常用的是通过客户-服务器模式（client-server paradigm）。客户和服务器（两个进程）有相同的名字，如要从服务器上获取时间，需要在本地主机和远程服务器上运行Daytime服务。

由于计算机可以在同一时间运行多个服务器程序，我们必须定义本地主机、本地进程、远程主机和远程进程。我们使用IP地址定义主机，使用端口号（port number）定义进程。在TCP/IP协议簇中，端口号是在0到65535之间的16位整数。
* 客户程序用临时端口号（ephemeral port number）定义自己，推荐值大于1023。
* 服务器进程一般使用固定端口号，在TCP/IP决定使用全局端口号，经常使用也称为熟知端口号。
* IP地址在世界范围内确定一个主机，端口号定义了在该特定主机上的一个进程。